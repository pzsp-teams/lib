<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# lib

```go
import "github.com/pzsp-teams/lib"
```

Package lib acts as the primary entry point for the Microsoft Teams API client library. It adopts a Facade pattern, aggregating specialized services \(Teams, Channels, Chats\) into a single, cohesive Client.

The package manages the complexity of:

- Authentication \(via MSAL and Graph Token Providers\).
- Dependency Injection \(wiring APIs, Caches, and Resolvers\).
- Caching strategies \(transparently wrapping operations with caching layers\).

Usage: Initialize the Client using NewClient for a standard setup. Alternatively, if you need only specific services, use:

- NewTeamServiceFromGraphClient for Teams service.
- NewChannelServiceFromGraphClient for Channels service.
- NewChatServiceFromGraphClient for Chats service.

Always ensure to call Close\(\) upon application shutdown to flush any background cache operations.

## Index

- [func Close\(\)](<#Close>)
- [func NewChannelServiceFromGraphClient\(ctx context.Context, authCfg \*config.AuthConfig, senderCfg \*config.SenderConfig, cacheCfg \*config.CacheConfig\) \(channels.Service, error\)](<#NewChannelServiceFromGraphClient>)
- [func NewChatServiceFromGraphClient\(ctx context.Context, authCfg \*config.AuthConfig, senderCfg \*config.SenderConfig, cacheCfg \*config.CacheConfig\) \(chats.Service, error\)](<#NewChatServiceFromGraphClient>)
- [func NewTeamServiceFromGraphClient\(ctx context.Context, authCfg \*config.AuthConfig, senderCfg \*config.SenderConfig, cacheCfg \*config.CacheConfig\) \(teams.Service, error\)](<#NewTeamServiceFromGraphClient>)
- [type Client](<#Client>)
  - [func NewClient\(ctx context.Context, authCfg \*config.AuthConfig, senderCfg \*config.SenderConfig, cacheCfg \*config.CacheConfig\) \(\*Client, error\)](<#NewClient>)
  - [func NewClientFromGraphClient\(graphClient \*graph.GraphServiceClient, senderCfg \*config.SenderConfig, cacheCfg \*config.CacheConfig\) \(\*Client, error\)](<#NewClientFromGraphClient>)


<a name="Close"></a>
## func [Close](<https://github.com/pzsp-teams/lib/blob/main/client.go#L186>)

```go
func Close()
```

Close ensures a graceful shutdown of the library. It waits for any pending background operations \(such as asynchronous cache updates\) to complete before returning, preventing data loss or race conditions.

<a name="NewChannelServiceFromGraphClient"></a>
## func [NewChannelServiceFromGraphClient](<https://github.com/pzsp-teams/lib/blob/main/client.go#L118>)

```go
func NewChannelServiceFromGraphClient(ctx context.Context, authCfg *config.AuthConfig, senderCfg *config.SenderConfig, cacheCfg *config.CacheConfig) (channels.Service, error)
```

NewChannelServiceFromGraphClient creates a standalone service for Channel operations. Use this if you do not need the full Client wrapper and only want to interact with Channels.

<a name="NewChatServiceFromGraphClient"></a>
## func [NewChatServiceFromGraphClient](<https://github.com/pzsp-teams/lib/blob/main/client.go#L163>)

```go
func NewChatServiceFromGraphClient(ctx context.Context, authCfg *config.AuthConfig, senderCfg *config.SenderConfig, cacheCfg *config.CacheConfig) (chats.Service, error)
```

NewChatServiceFromGraphClient creates a standalone service for Chat operations. Use this if you do not need the full Client wrapper and only want to interact with Chats.

<a name="NewTeamServiceFromGraphClient"></a>
## func [NewTeamServiceFromGraphClient](<https://github.com/pzsp-teams/lib/blob/main/client.go#L142>)

```go
func NewTeamServiceFromGraphClient(ctx context.Context, authCfg *config.AuthConfig, senderCfg *config.SenderConfig, cacheCfg *config.CacheConfig) (teams.Service, error)
```

NewTeamServiceFromGraphClient creates a standalone service for Team operations. Use this if you do not need the full Client wrapper and only want to interact with Teams.

<a name="Client"></a>
## type [Client](<https://github.com/pzsp-teams/lib/blob/main/client.go#L39-L43>)

Client is the central hub for interacting with the Microsoft Teams ecosystem. It aggregates access to specific domains: Channels, Teams, and Chats, hiding the complexity of underlying Graph API calls and caching mechanisms.

```go
type Client struct {
    Channels channels.Service
    Teams    teams.Service
    Chats    chats.Service
}
```

<a name="NewClient"></a>
### func [NewClient](<https://github.com/pzsp-teams/lib/blob/main/client.go#L69>)

```go
func NewClient(ctx context.Context, authCfg *config.AuthConfig, senderCfg *config.SenderConfig, cacheCfg *config.CacheConfig) (*Client, error)
```

NewClient initializes a new Client instance with fully configured internal services. It handles the authentication handshake using the provided authCfg and sets up sending and caching behaviors based on senderCfg and cacheCfg.

<a name="NewClientFromGraphClient"></a>
### func [NewClientFromGraphClient](<https://github.com/pzsp-teams/lib/blob/main/client.go#L83>)

```go
func NewClientFromGraphClient(graphClient *graph.GraphServiceClient, senderCfg *config.SenderConfig, cacheCfg *config.CacheConfig) (*Client, error)
```

NewClientFromGraphClient creates a Client using an existing, pre\-configured GraphServiceClient. This is a separated exported constructor mainly for external testing purposes \(via mocking Teams API by injection of GraphServiceClient\).

It wires up all internal dependencies, including API clients, caching layers, and entity resolvers \(e.g., resolving team names to IDs\).

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
